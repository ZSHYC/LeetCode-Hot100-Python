在大厂面试里，对于时空复杂度，我们看重的其实是一种“直觉”。

简单来说：

* **时间复杂度** ：不是程序跑了多少“秒”，而是 **随着数据量（N）变大，程序变慢的趋势** 。
* **空间复杂度** ：不是程序占了多少“MB”，而是 **随着数据量（N）变大，你需要额外申请多少内存** 。

咱们用一个最通俗的**“吃披萨”**的例子来彻底搞懂它。

---

### 一、 时间复杂度（Time Complexity）

假设你是个大胃王，N 代表披萨的数量。

#### 1. **$O(1)$**：常数级 (Constant)

 **场景** ：无论桌上有 10 块披萨还是 10,000 块，你**只吃第一块**就饱了。

* **耗时** ：几乎不变。
* **代码特征** ：没有循环，只有简单的加减乘除或索引访问。

**Python**

```
def eat_one(pizzas):
    return pizzas[0]  # 无论 pizzas 有多长，只拿第一个，一步搞定
```

#### 2. **$O(N)$**：线性级 (Linear)

 **场景** ：你要把桌上 **所有的披萨都吃完** 。

* **耗时** ：披萨越多，你吃的时间越长。10 块吃 10 分钟，100 块吃 100 分钟（成正比）。
* **代码特征** ：**一层** `for` 循环。

**Python**

```
def eat_all(pizzas):
    for pizza in pizzas:  # 随着 N 增大，循环次数线性增加
        print("吃掉", pizza)
```

#### 3. **$O(N^2)$**：平方级 (Quadratic) —— **面试中的“红线”**

 **场景** ：吃披萨前，你要把 **每一块披萨和其他所有披萨比大小** ，比完了再吃。

* **耗时** ：如果有 10 块，你要比 **$10 \times 10 = 100$** 次；如果有 100 块，你要比 **$100 \times 100 = 10,000$** 次！数据量稍微大一点，程序就“卡死”了。
* **代码特征** ：**两层嵌套** 的 `for` 循环。

**Python**

```
def compare_and_eat(pizzas):
    for i in pizzas:          # 第一层循环
        for j in pizzas:      # 第二层循环（嵌套在里面）
            print(f"对比 {i} 和 {j}")
```

---

### 二、 空间复杂度（Space Complexity）

这次把 N 想象成你要处理的“文件数量”，空间就是你桌子上需要铺开的“草稿纸”。

#### 1. **$O(1)$**：原地工作

不管文件有多少，你只用**一张**草稿纸记录结果（比如记录总和、最大值）。

* **特征** ：只定义了几个变量（`i`, `count`, `result`）。

#### 2. **$O(N)$**：照单全收

老板给你 N 个文件，你必须准备 N 个文件夹来存它们的备份，或者用一个哈希表把它们都记下来。

* **特征** ：创建了一个与输入数组等大的列表 `list` 或集合 `set`。

---

### 三、 刚才那道题（LC 128）咋算的？

让我们回到刚才的“最长连续序列”：

1. 为什么是 $O(N)$ 时间？

虽然代码里写了 for 循环里套 while，看起来像 $O(N^2)$，但请注意那个剪枝逻辑：

> 只有当 `num` 是“龙头”（`num-1` 不在集合里）时，我们才启动 `while`。

* **比喻** ：就像你整理一队人。
* 虽然你有两层逻辑，但每个人你**最多**只打两次招呼（一次是 `for` 遍历到他，一次是 `while` 顺藤摸瓜摸到他）。
* 你绝对不会反复去数同一个人。
* **平均下来，每个人只被访问常数次，所以总量是 **$O(N)$**。**

**2. 为什么是 **$O(N)$** 空间？**

* 我们用 `num_set = set(nums)` 把所有数字存了一份。
* 如果数组有 100 万个数，集合也得存 100 万个。内存消耗随 N 线性增长。

---

### 🚀 快速判断口诀（新手版）

1. **看循环** ：

* 没循环 = **$O(1)$**
* 一层循环 = **$O(N)$**
* 循环套循环 = **$O(N^2)$**
* 二分查找（每次砍一半）= **$O(\log N)$**

1. **看新开的存储** ：

* 只定义了几个变量 = **$O(1)$**
* 开了一个辅助数组/哈希表 = **$O(N)$**
